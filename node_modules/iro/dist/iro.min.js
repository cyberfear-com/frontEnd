/*! iro.color.js / The MIT Lisense / (c) 2015-2016 Retorillo */
var iro=iro||{version:"beta1"};iro.Color=function(t){function s(){function i(t,e){if(!g&&t!==e&&m[e])try{g=!0;var i=null;switch(t){case s.models.hsx:i=a?s.hsv2rgb(n):s.hsl2rgb(n);break;case s.models.cmyk:i=s.cmyk2rgb(n);break;case s.models.rgb:i=n}switch(e){case s.models.hsx:if(a){var r=s.rgb2hsv(i);n.hsv(r.h,r.s,r.v)}else{var l=s.rgb2hsl(i);n.hsl(l.h,l.s,l.l)}break;case s.models.cmyk:var o=s.rgb2cmyk(i);n.cmyk(o.c,o.m,o.y,o.k);break;case s.models.rgb:n.rgb(i.r,i.g,i.b)}m[e]=!1,m[s.models.rgb]||(n.rgb(i.r,i.g,i.b),m[s.models.rgb]=!1)}finally{g=!1}}function r(t,s,e,r){var a=r.limiter(s,r.max),o=!1;return Object.defineProperty(n,t,{configurable:!0,get:function(){if(o)throw new Error(['"',t,'" is inaccessible'].join(""));return null!=e&&i(l,e),a},set:function(s){if(o)throw new Error(['"',t,'" is inaccessible'].join(""));if(null!=e&&i(l,e),a=r.limiter(s,r.max),null!=e&&!g){for(var n=0;n<m.length;n++)m[n]=n!=e;l=e}}}),{get:function(){return a},set:function(t){a=t},lock:function(){o=!0},unlock:function(){o=!1}}}var n=this,a=s.isClassOf(arguments[0])?arguments[0].useHsv:s.useHsv,l=s.models.rgb,m=[!1,!1,!1],g=!1,o=r("r",0,s.models.rgb,s.settings.r),f=r("g",0,s.models.rgb,s.settings.g),h=r("b",0,s.models.rgb,s.settings.b),u=r("h",0,s.models.hsx,s.settings.h),c=r("s",0,s.models.hsx,s.settings.s),d=r("v",0,s.models.hsx,s.settings.x),b=r("l",0,s.models.hsx,s.settings.x),x=r("c",0,s.models.cmyk,s.settings.c),v=r("m",0,s.models.cmyk,s.settings.m),y=r("y",0,s.models.cmyk,s.settings.y),k=r("k",0,s.models.cmyk,s.settings.k),p=r("a",1,null,s.settings.a);if(Object.defineProperty(n,"clsid",{get:function(){return e}}),Object.defineProperty(n,"model",{get:function(){return l}}),Object.defineProperty(n,"useHsv",{get:function(){return a},set:function(t){if(!(a&&t||!a&&!t)){if(l!=s.models.hsx)m[s.models.hsx]=!0,t?(d.unlock(),b.lock()):(b.unlock(),d.lock());else if(t){var e=s.rgb2hsv(this);this.h=e.h,this.s=e.s,d.unlock(),this.v=e.v,b.lock()}else{var i=s.rgb2hsl(this);this.h=i.h,this.s=i.s,b.unlock(),this.l=i.l,d.lock()}a=t}}}),a?b.lock():d.lock(),arguments[0]!==t){if("string"==typeof arguments[0]&&null!=s.str2format(arguments[0],null))throw Error('"',arguments[0],'" is invalid argument');this.css(arguments[0])}this.dump=function(){var t=function(t){return t.get().toFixed(2)},e=[t(o),t(f),t(h)],i=[t(x),t(v),t(y),t(k)],r=this.useHsv?[t(u),t(c),t(d)]:[t(u),t(c),t(b)],n=" == ",a=" != ",l=m[s.models.rgb]?a:n,g=m[s.models.cmyk]?a:n,w=m[s.models.hsx]?a:n,M=this.useHsv?"HSV":"HSL";return["ALPHA",n,t(p),"\n","RGB",l,e.join(", "),"\n","CMYK",g,i.join(", "),"\n",M,w,r.join(", ")].join("")}}var e={};s.epsilon=1e-12,s.isClassOf=function(t){return null!=t&&t.clsid===e},s.useHsv=!1,s.formats={},s.formats.rgba=0,s.formats.hsla=1,s.formats.rgb=2,s.formats.hsl=3,s.formats.hex=4,s.models={},s.models.rgb=0,s.models.hsx=1,s.models.cmyk=2,s.limiters={},s.limiters.circuit=function(t,s){var e=t%s;return 0>e&&(e+=s),e},s.limiters.linear=function(t,s){return Math.max(0,Math.min(t,s))},s.settings={},s.settings.a={max:1,limiter:s.limiters.linear},s.settings.r={max:255,limiter:s.limiters.linear},s.settings.g={max:255,limiter:s.limiters.linear},s.settings.b={max:255,limiter:s.limiters.linear},s.settings.h={max:360,limiter:s.limiters.circuit},s.settings.s={max:100,limiter:s.limiters.linear},s.settings.x={max:100,limiter:s.limiters.linear},s.settings.c={max:100,limiter:s.limiters.linear},s.settings.m={max:100,limiter:s.limiters.linear},s.settings.y={max:100,limiter:s.limiters.linear},s.settings.k={max:100,limiter:s.limiters.linear},s.blends={},s.blends.normal=function(t,s){return t},s.blends.multiply=function(t,s){return t*s/255},s.blends.divide=function(t,s){return 256*s/(t+1)},s.blends.screen=function(t,s){return 255-(255-t)*(255-s)/255},s.blends.overlay=function(t,s){return s/255*(s+2*t/255*(255-s))},s.blends.dodge=function(t,s){return 256*s/(255-t+1)},s.blends.burn=function(t,s){return 255-256*(255-s)/(t+1)},s.blends.hardlight=function(t,s){return t>128?255-(255-2*(t-128))*(255-s)/256:2*t*s/256},s.blends.softlight=function(t,e){var i=s.blends.screen(t,e);return(255-e)*t*i/255*e},s.blends.difference=function(t,s){return Math.abs(s-t)},s.blends.add=function(t,s){return t+s},s.blends.subtract=function(t,s){return s-t},s.blends.darken=function(t,s){return Math.min(t,s)},s.blends.lighten=function(t,s){return Math.max(t,s)},s.rgb2hsl=function(t){var e,i=s.settings.r.limiter(t.r,s.settings.r.max)/s.settings.r.max,r=s.settings.g.limiter(t.g,s.settings.g.max)/s.settings.g.max,n=s.settings.b.limiter(t.b,s.settings.b.max)/s.settings.b.max,a=Math.max(i,r,n),l=Math.min(i,r,n),m=a-l;e=0==m?0:a==i?(r-n)/m%6/6:a==r?(n-i)/(6*m)+1/3:(i-r)/(6*m)+2/3;var g=(a+l)/2,o=0==m?0:a+l>=1?m/(2-a-l):m/(a+l);return{h:s.settings.h.limiter(e*s.settings.h.max,s.settings.h.max),s:s.settings.s.limiter(o*s.settings.s.max,s.settings.s.max),l:s.settings.x.limiter(g*s.settings.x.max,s.settings.s.max)}},s.hsl2rgb=function(t){var e=s.settings.h.limiter(t.h,s.settings.h.max)/s.settings.h.max,i=s.settings.s.limiter(t.s,s.settings.s.max)/s.settings.s.max,r=s.settings.x.limiter(t.l,s.settings.x.max)/s.settings.x.max,n=(1-Math.abs(2*r-1))*i,a=6*e,l=n*(1-Math.abs(a%2-1)),m=r-.5*n,g=[m,m,m],o=null;return o=a>=0&&1>a?[n,l,0]:a>=1&&2>a?[l,n,0]:a>=2&&3>a?[0,n,l]:a>=3&&4>a?[0,l,n]:a>=4&&5>a?[l,0,n]:[n,0,l],{r:s.settings.r.limiter((g[0]+o[0])*s.settings.r.max,s.settings.r.max),g:s.settings.g.limiter((g[1]+o[1])*s.settings.g.max,s.settings.g.max),b:s.settings.b.limiter((g[2]+o[2])*s.settings.b.max,s.settings.b.max)}},s.rgb2hsv=function(t){var e,i=s.settings.r.limiter(t.r,s.settings.r.max)/s.settings.r.max,r=s.settings.g.limiter(t.g,s.settings.g.max)/s.settings.g.max,n=s.settings.b.limiter(t.b,s.settings.b.max)/s.settings.b.max,a=Math.max(i,r,n),l=Math.min(i,r,n),m=a-l;e=0==m?0:a==i?(r-n)/m%6/6:a==r?(n-i)/(6*m)+1/3:(i-r)/(6*m)+2/3;var g=a,o=0==g?0:m/g;return{h:s.settings.h.limiter(e*s.settings.h.max,s.settings.h.max),s:s.settings.s.limiter(o*s.settings.s.max,s.settings.s.max),v:s.settings.x.limiter(g*s.settings.x.max,s.settings.x.max)}},s.hsv2rgb=function(t){var e,i=s.settings.h.limiter(t.h,s.settings.h.max)/s.settings.h.max,r=s.settings.s.limiter(t.s,s.settings.s.max)/s.settings.s.max,n=s.settings.x.limiter(t.v,s.settings.x.max)/s.settings.x.max,a=n*r,l=6*i,m=a*(1-Math.abs(l%2-1)),g=n-a,o=[g,g,g];return e=l>=0&&1>l?[a,m,0]:l>=1&&2>l?[m,a,0]:l>=2&&3>l?[0,a,m]:l>=3&&4>l?[0,m,a]:l>=4&&5>l?[m,0,a]:[a,0,m],{r:s.settings.r.limiter((o[0]+e[0])*s.settings.r.max,s.settings.r.max),g:s.settings.g.limiter((o[1]+e[1])*s.settings.g.max,s.settings.g.max),b:s.settings.b.limiter((o[2]+e[2])*s.settings.b.max,s.settings.b.max)}},s.rgb2cmyk=function(t){var e=s.settings.r.limiter(t.r,s.settings.r.max)/s.settings.r.max,i=s.settings.g.limiter(t.g,s.settings.g.max)/s.settings.g.max,r=s.settings.b.limiter(t.b,s.settings.b.max)/s.settings.b.max,n=1-Math.max(e,i,r),a=1==n?0:(1-e-n)/(1-n),l=1==n?0:(1-i-n)/(1-n),m=1==n?0:(1-r-n)/(1-n);return{c:s.settings.c.limiter(a*s.settings.c.max,s.settings.c.max),m:s.settings.m.limiter(l*s.settings.m.max,s.settings.m.max),y:s.settings.y.limiter(m*s.settings.y.max,s.settings.y.max),k:s.settings.k.limiter(n*s.settings.k.max,s.settings.k.max)}},s.cmyk2rgb=function(t){var e=s.settings.c.limiter(t.c,s.settings.c.max)/s.settings.c.max,i=s.settings.m.limiter(t.m,s.settings.m.max)/s.settings.m.max,r=s.settings.y.limiter(t.y,s.settings.y.max)/s.settings.y.max,n=s.settings.k.limiter(t.k,s.settings.k.max)/s.settings.k.max,a=(1-e)*(1-n),l=(1-i)*(1-n),m=(1-r)*(1-n);return{r:s.settings.r.limiter(a*s.settings.r.max,s.settings.r.max),g:s.settings.g.limiter(l*s.settings.g.max,s.settings.g.max),b:s.settings.b.limiter(m*s.settings.b.max,s.settings.b.max)}},s.str2format=function(e,i){if(null!=e){e=e.toLowerCase();for(var r in s.formats)if(r==e)return s.formats[r]}if(i!==t)return i;throw new Error(['"',e,'" is invalid argument'].join(""))},s.str2blend=function(e,i){if(null!=e){e=e.toLowerCase();for(var r in s.blends)if(r==e)return s.blends[r]}if(i!==t)return i;throw new Error(['"',e,'" is invalid argument'].join(""))},s.name=function(){if(0==arguments.length){for(var t=[],e=0;e<i.length;e+=2)t.push(i[e]);return t}var r=arguments[0];if(r=r.toLowerCase(),1==arguments.length){for(var e=0;e<i.length;e+=2)if(i[e]==r)return i[e+1];throw new Error(['"',r,'" is invalid color name'].join(""))}if(null!=s.str2format(r,null))throw new Error(['"',r,'" cannnot be used for color name.'].join(""));for(var n=arguments[1],a=-1,e=0;e<i.length;e+=2)if(i[e]==r){a=e;break}-1!=a&&null!=n?i[a+1]=n:-1!=a?i.splice(a,2):null!=n&&i.push(r,n)},s.prototype.hsl=function(){var s=arguments;if(0==s.length){if(this.useHsv){var e=this.clone();return e.useHsv=!1,e.hsl()}return[this.h,this.s,this.l,this.a]}this.useHsv=!1;var s=arguments;if(0==s.length)return[this.h,this.s,this.l,this.a];var i=1==s.length?s[0]instanceof Array?s[0]:[s[0].h,s[0].s,s[0].l,s[0].a]:s;return this.h=i[0],this.s=i[1],this.l=i[2],this.a=i[3]!==t?i[3]:this.a,this},s.prototype.hsv=function(){var s=arguments;if(0==s.length){if(!this.useHsv){var e=this.clone();return e.useHsv=!0,e.hsv()}return[this.h,this.s,this.v,this.a]}this.useHsv=!0;var i=1==s.length?s[0]instanceof Array?s[0]:[s[0].h,s[0].s,s[0].v,s[0].a]:s;return this.h=i[0],this.s=i[1],this.v=i[2],this.a=i[3]!==t?i[3]:this.a,this},s.prototype.cmyk=function(){var s=arguments;if(0==s.length)return[this.c,this.m,this.y,this.k,this.a];var e=1==s.length?s[0]instanceof Array?s[0]:[s[0].c,s[0].m,s[0].y,s[0].k,s[0].a]:s;return this.c=e[0],this.m=e[1],this.y=e[2],this.k=e[3],this.a=e[4]!==t?e[4]:this.a,this},s.prototype.rgb=function(){var s=arguments;if(0==s.length)return[this.r,this.g,this.b,this.a];var e=1==s.length?s[0]instanceof Array?s[0]:[s[0].r,s[0].g,s[0].b,s[0].a]:s;return this.r=e[0],this.g=e[1],this.b=e[2],this.a=e[3]!==t?e[3]:this.a,this},s.prototype.offset=function(t,s){return this[t]+=s,this},s.prototype.o=s.prototype.offset,s.prototype.clone=function(){var t=new s(this);return t.useHsv=this.useHsv,t},s.prototype.css=function(){var e=arguments[0];if(s.isClassOf(e)){switch(e.model){case s.models.cmyk:this.cmyk(e);break;case s.models.hsx:this.useHsv?this.hsv(e):this.hsx(e);break;default:this.rgb(e)}return this}if("string"==typeof e&&(e=s.str2format(e,e)),"string"==typeof e){var i=/^(rgb|rgba|hsl|hsla)\((\d+),(\d+)%?,(\d+)%?(?:,(\d+(?:\.\d+)?))?\)$|^#?([\da-f]{6}|[\da-f]{3})$/i.exec(e.replace(/\s+/g,""));if(null==i)return this.css(s.name(e));var r=1,n=(i[r++]||"").toLowerCase(),a=[r++,r++,r++,r++];a.forEach(function(t,s){a[s]=i[t]?parseFloat(i[t]):1});var l=i[r++],m=null!=l&&3==l.length;switch(n){case"hsl":case"hsla":this.hsl(a[0]/360*s.settings.h.max,a[1]/100*s.settings.s.max,a[2]/100*s.settings.x.max,a[3]);break;default:this.rgb((l?parseInt(m?l[0]+l[0]:l.substr(0,2),16):a[0])/255*s.settings.r.max,(l?parseInt(m?l[1]+l[1]:l.substr(2,2),16):a[1])/255*s.settings.g.max,(l?parseInt(m?l[2]+l[2]:l.substr(4,2),16):a[2])/255*s.settings.b.max,a[3])}return this}var g=this,o=e;o&&(o===s.formats.hsla||o===s.formats.hsl)&&this.useHsv&&(g=this.clone(),g.useHsv=!1);var f,r,h,u,c,d,b=function(t){return Math.min(1,Math.max(0,t))},x=function(t,s){return Math.round(b(t)*s)},v=b(g.a).toFixed(1),y=function(){f=x(g.r/s.settings.r.max,255),r=x(g.g/s.settings.g.max,255),h=x(g.b/s.settings.b.max,255)},k=function(){u=x(g.h/s.settings.h.max,360),c=x(g.s/s.settings.s.max,100),d=x(g.l/s.settings.x.max,100)};switch(e!==t||this.useHsv||this.model!=s.models.hsx||(e=s.formats.hsla),e){case s.formats.hex:y();var l=[f,r,h];return l.forEach(function(t,s){var t=t.toString(16);l[s]=1==t.length?0+t:t}),l.splice(0,0,"#"),l.join("");case s.formats.hsl:return compuehsl(),["hsl(",[u,c+"%",d+"%"].join(", "),")"].join("");case s.formats.hsla:return k(),["hsla(",[u,c+"%",d+"%",v].join(", "),")"].join("");case s.formats.rgb:return y(),["rgb(",[f,r,h].join(", "),")"].join("");default:return y(),["rgba(",[f,r,h,v].join(", "),")"].join("")}},s.prototype.blend=function(t,e){"string"==typeof t&&(t=new s(t)),null==e&&(e=s.blends.normal),"string"==typeof e&&(e=s.str2blend(e));var i=t.r/s.settings.r.max,r=t.g/s.settings.g.max,n=t.b/s.settings.b.max,a=t.a,l=this.r/s.settings.r.max,m=this.g/s.settings.g.max,g=this.b/s.settings.b.max,o=e(255*i,255*l)/255,f=e(255*r,255*m)/255,h=e(255*n,255*g)/255,u=Math.max(Math.min(o,1),0)*a+l*(1-a),c=Math.max(Math.min(f,1),0)*a+m*(1-a),d=Math.max(Math.min(h,1),0)*a+g*(1-a);return this.r=Math.max(Math.min(u,1),0)*s.settings.r.max,this.g=Math.max(Math.min(c,1),0)*s.settings.g.max,this.b=Math.max(Math.min(d,1),0)*s.settings.b.max,this},s.prototype.equals=function(e,i){if("string"==typeof e&&(e=new s(e)),!s.isClassOf(e))return!1;var r,n;switch(this.model){case s.models.cmyk:r=this.cmyk(),n=e.cmyk();break;case s.models.hsx:r=this.useHsv?this.hsv():this.hsl(),n=this.useHsv?e.hsv():e.hsl();break;default:r=this.rgb(),n=e.rgb()}i===t&&(i=s.epsilon);for(var a=0;a<r.length;a++)if(Math.abs(r[a]-n[a])>i)return!1;return!0},s.prototype.toString=function(t){return this.css(s.str2format(t,s.formats.rgba))};var i=["black","#000000","silver","#c0c0c0","gray","#808080","white","#ffffff","maroon","#800000","red","#ff0000","purple","#800080","fuchsia","#ff00ff","green","#008000","lime","#00ff00","olive","#808000","yellow","#ffff00","navy","#000080","blue","#0000ff","teal","#008080","aqua","#00ffff","orange","#ffa500","aliceblue","#f0f8ff","antiquewhite","#faebd7","aquamarine","#7fffd4","azure","#f0ffff","beige","#f5f5dc","bisque","#ffe4c4","blanchedalmond","#ffe4c4","blueviolet","#8a2be2","brown","#a52a2a","burlywood","#deb887","cadetblue","#5f9ea0","chartreuse","#7fff00","chocolate","#d2691e","coral","#ff7f50","cornflowerblue","#6495ed","cornsilk","#fff8dc","crimson","#dc143c","darkblue","#00008b","darkcyan","#008b8b","darkgoldenrod","#b8860b","darkgray","#a9a9a9","darkgreen","#006400","darkgrey","#a9a9a9","darkkhaki","#bdb76b","darkmagenta","#8b008b","darkolivegreen","#556b2f","darkorange","#ff8c00","darkorchid","#9932cc","darkred","#8b0000","darksalmon","#e9967a","darkseagreen","#8fbc8f","darkslateblue","#483d8b","darkslategray","#2f4f4f","darkslategrey","#2f4f4f","darkturquoise","#00ced1","darkviolet","#9400d3","deeppink","#ff1493","deepskyblue","#00bfff","dimgray","#696969","dimgrey","#696969","dodgerblue","#1e90ff","firebrick","#b22222","floralwhite","#fffaf0","forestgreen","#228b22","gainsboro","#dcdcdc","ghostwhite","#f8f8ff","gold","#ffd700","goldenrod","#daa520","greenyellow","#adff2f","grey","#808080","honeydew","#f0fff0","hotpink","#ff69b4","indianred","#cd5c5c","indigo","#4b0082","ivory","#fffff0","khaki","#f0e68c","lavender","#e6e6fa","lavenderblush","#fff0f5","lawngreen","#7cfc00","lemonchiffon","#fffacd","lightblue","#add8e6","lightcoral","#f08080","lightcyan","#e0ffff","lightgoldenrodyellow","#fafad2","lightgray","#d3d3d3","lightgreen","#90ee90","lightgrey","#d3d3d3","lightpink","#ffb6c1","lightsalmon","#ffa07a","lightseagreen","#20b2aa","lightskyblue","#87cefa","lightslategray","#778899","lightslategrey","#778899","lightsteelblue","#b0c4de","lightyellow","#ffffe0","limegreen","#32cd32","linen","#faf0e6","mediumaquamarine","#66cdaa","mediumblue","#0000cd","mediumorchid","#ba55d3","mediumpurple","#9370db","mediumseagreen","#3cb371","mediumslateblue","#7b68ee","mediumspringgreen","#00fa9a","mediumturquoise","#48d1cc","mediumvioletred","#c71585","midnightblue","#191970","mintcream","#f5fffa","mistyrose","#ffe4e1","moccasin","#ffe4b5","navajowhite","#ffdead","oldlace","#fdf5e6","olivedrab","#6b8e23","orangered","#ff4500","orchid","#da70d6","palegoldenrod","#eee8aa","palegreen","#98fb98","paleturquoise","#afeeee","palevioletred","#db7093","papayawhip","#ffefd5","peachpuff","#ffdab9","peru","#cd853f","pink","#ffc0cb","plum","#dda0dd","powderblue","#b0e0e6","rosybrown","#bc8f8f","royalblue","#4169e1","saddlebrown","#8b4513","salmon","#fa8072","sandybrown","#f4a460","seagreen","#2e8b57","seashell","#fff5ee","sienna","#a0522d","skyblue","#87ceeb","slateblue","#6a5acd","slategray","#708090","slategrey","#708090","snow","#fffafa","springgreen","#00ff7f","steelblue","#4682b4","tan","#d2b48c","thistle","#d8bfd8","tomato","#ff6347","turquoise","#40e0d0","violet","#ee82ee","wheat","#f5deb3","whitesmoke","#f5f5f5","yellowgreen","#9acd32","rebeccapurple","#663399","transparent","rgba(0,0,0,0)"];return s}(),module&&module.exports&&(module.exports={Color:iro.Color});
define(["react", "app", "accounting"], function (React, app, accounting) {
    return React.createClass({
        handleCopyEmail: function () {
            const _this = this;
            if (!navigator.clipboard) {} else {
                const emailElement = document.getElementsByClassName("user-email")[0];
                navigator.clipboard.writeText(emailElement.innerHTML).then(function () {
                    $("#email-copy").removeClass("hide").addClass("show");
                    _this.hideCopyEmailNotification();
                });
            }
        },
        hideCopyEmailNotification: function () {
            setTimeout(function () {
                $("#email-copy").removeClass("show").addClass("hide");
            }, 1500);
        },
        handleClick: function (i) {
            switch (i) {
                case "logOut":
                    app.auth.logout();
                    break;
                case "settings":
                    app.mixins.canNavigate(function (decision) {
                        if (decision) {
                            $("#settings-spinner").removeClass("d-none").addClass("d-block");
                            Backbone.history.navigate("/settings/Profile", {
                                trigger: true
                            });
                        }
                    });
                    break;
            }
        },
        componentDidMount: function () {
            // console.log(app.user.get("showDisplayName"));
            // console.log(app.user.get("displayName"));
        },
        render: function () {
            return React.createElement(
                "div",
                {
                    className: "offcanvas offcanvas-end",
                    tabIndex: "-1",
                    id: "offcanvasRight",
                    "aria-label": "offcanvasRightLabel"
                },
                React.createElement(
                    "div",
                    { className: "offcanvas-header" },
                    React.createElement(
                        "div",
                        { className: "user-name-side-menu" },
                        " ",
                        React.createElement(
                            "div",
                            { className: "user-avatar" },
                            React.createElement(
                                "label",
                                { className: "user-letter" },
                                app.user.get("email").charAt(0)
                            )
                        ),
                        app.user.get("displayName") !== "" ? app.user.get("displayName") : "Me",
                        React.createElement("br", null),
                        React.createElement(
                            "span",
                            { className: "user-email" },
                            app.user.get("email")
                        ),
                        " "
                    ),
                    React.createElement(
                        "div",
                        { className: "user-side-menu" },
                        React.createElement(
                            "ul",
                            null,
                            React.createElement(
                                "li",
                                null,
                                React.createElement(
                                    "button",
                                    { type: "button" },
                                    React.createElement(
                                        "span",
                                        { className: "__icon" },
                                        React.createElement(
                                            "svg",
                                            {
                                                width: "20",
                                                height: "20",
                                                viewBox: "0 0 20 20",
                                                fill: "none",
                                                xmlns: "http://www.w3.org/2000/svg"
                                            },
                                            React.createElement("path", {
                                                d: "M14.3177 17.1625H6.48438C6.13438 17.1625 5.74271 16.8875 5.62604 16.5542L2.17604 6.90417C1.68438 5.52083 2.25938 5.09583 3.44271 5.94583L6.69271 8.27083C7.23438 8.64583 7.85104 8.45417 8.08438 7.84583L9.55104 3.9375C10.0177 2.6875 10.7927 2.6875 11.2594 3.9375L12.726 7.84583C12.9594 8.45417 13.576 8.64583 14.1094 8.27083L17.1594 6.09583C18.4594 5.1625 19.0844 5.6375 18.551 7.14583L15.1844 16.5708C15.0594 16.8875 14.6677 17.1625 14.3177 17.1625Z",
                                                stroke: "#080D13",
                                                "stroke-width": "1.25",
                                                "stroke-linecap": "round",
                                                "stroke-linejoin": "round"
                                            }),
                                            React.createElement("path", {
                                                d: "M8.3125 14.0125H12.4792",
                                                stroke: "#080D13",
                                                "stroke-width": "1.25",
                                                "stroke-linecap": "round",
                                                "stroke-linejoin": "round"
                                            })
                                        )
                                    ),
                                    "Explore premium plans"
                                )
                            ),
                            React.createElement(
                                "li",
                                null,
                                React.createElement(
                                    "button",
                                    {
                                        id: "email-copy-2",
                                        onClick: this.handleCopyEmail.bind(this)
                                    },
                                    React.createElement(
                                        "span",
                                        { className: "__icon" },
                                        React.createElement(
                                            "svg",
                                            {
                                                width: "20",
                                                height: "20",
                                                viewBox: "0 0 20 20",
                                                fill: "none",
                                                xmlns: "http://www.w3.org/2000/svg",
                                                fillRule: "evenodd",
                                                clipRule: "evenodd",
                                                className: "fill-evenodd"
                                            },
                                            React.createElement("path", {
                                                fillRule: "evenodd",
                                                clipRule: "evenodd",
                                                d: "M6.66675 1.04175L6.62102 1.04175C5.48136 1.04173 4.56276 1.04172 3.84029 1.13885C3.0902 1.2397 2.45864 1.45544 1.95704 1.95704C1.45544 2.45864 1.2397 3.0902 1.13885 3.84029C1.04172 4.56276 1.04173 5.48136 1.04175 6.62102V6.66675V8.33342V8.37914C1.04173 9.5188 1.04172 10.4374 1.13885 11.1599C1.2397 11.91 1.45544 12.5415 1.95704 13.0431C2.45864 13.5447 3.0902 13.7605 3.84029 13.8613C4.43613 13.9414 5.16537 13.9555 6.04199 13.9579C6.04347 14.8308 6.05402 15.5527 6.12885 16.1408C6.21918 16.8506 6.412 17.4527 6.86276 17.9446C6.92418 18.0117 6.9885 18.076 7.05553 18.1374C7.54744 18.5882 8.1496 18.781 8.85938 18.8713C9.54404 18.9584 10.4103 18.9584 11.4849 18.9584H11.5279H13.3334H13.3792C14.5188 18.9584 15.4374 18.9584 16.1599 18.8613C16.91 18.7605 17.5415 18.5447 18.0431 18.0431C18.5447 17.5415 18.7605 16.91 18.8613 16.1599C18.9584 15.4374 18.9584 14.5189 18.9584 13.3793V13.3791V13.3334V11.5279V11.4849C18.9584 10.4103 18.9584 9.54404 18.8713 8.85938C18.781 8.1496 18.5882 7.54744 18.1374 7.05553C18.076 6.9885 18.0117 6.92418 17.9446 6.86276C17.4527 6.412 16.8506 6.21918 16.1408 6.12885C15.5527 6.05402 14.8308 6.04347 13.9579 6.04199C13.9555 5.16537 13.9414 4.43613 13.8613 3.84029C13.7605 3.0902 13.5447 2.45864 13.0431 1.95704C12.5415 1.45544 11.91 1.2397 11.1599 1.13885C10.4374 1.04172 9.5188 1.04173 8.37914 1.04175L8.33341 1.04175H6.66675ZM13.9584 7.29208V8.33341V8.37915V8.37917C13.9584 9.51881 13.9584 10.4374 13.8613 11.1599C13.7605 11.91 13.5447 12.5415 13.0431 13.0431C12.5415 13.5447 11.91 13.7605 11.1599 13.8613C10.4374 13.9584 9.51881 13.9584 8.37917 13.9584H8.37915H8.33342H7.29208C7.2938 14.8323 7.30435 15.4762 7.36885 15.983C7.44273 16.5635 7.5783 16.8753 7.78435 17.1001C7.82121 17.1404 7.8598 17.179 7.90002 17.2158C8.12488 17.4219 8.43666 17.5574 9.01718 17.6313C9.61371 17.7072 10.4001 17.7084 11.5279 17.7084H13.3334C14.5296 17.7084 15.3639 17.7071 15.9933 17.6225C16.6048 17.5402 16.9286 17.3899 17.1592 17.1592C17.3899 16.9286 17.5402 16.6048 17.6225 15.9933C17.7071 15.3639 17.7084 14.5296 17.7084 13.3334V11.5279C17.7084 10.4001 17.7072 9.61371 17.6313 9.01718C17.5574 8.43666 17.4219 8.12488 17.2158 7.90002C17.179 7.8598 17.1404 7.82121 17.1001 7.78435C16.8753 7.5783 16.5635 7.44273 15.983 7.36885C15.4762 7.30435 14.8322 7.2938 13.9584 7.29208ZM2.84092 2.84092C3.07156 2.61029 3.39537 2.45992 4.00685 2.3777C4.63631 2.29308 5.47057 2.29175 6.66675 2.29175H8.33341C9.52959 2.29175 10.3639 2.29308 10.9933 2.3777C11.6048 2.45992 11.9286 2.61029 12.1592 2.84092C12.3899 3.07156 12.5402 3.39537 12.6225 4.00685C12.7071 4.63631 12.7084 5.47057 12.7084 6.66675V8.33341C12.7084 9.52959 12.7071 10.3639 12.6225 10.9933C12.5402 11.6048 12.3899 11.9286 12.1592 12.1592C11.9286 12.3899 11.6048 12.5402 10.9933 12.6225C10.3639 12.7071 9.52959 12.7084 8.33342 12.7084H6.66675C5.47057 12.7084 4.63631 12.7071 4.00685 12.6225C3.39537 12.5402 3.07156 12.3899 2.84092 12.1592C2.61029 11.9286 2.45992 11.6048 2.3777 10.9933C2.29308 10.3639 2.29175 9.5296 2.29175 8.33342V6.66675C2.29175 5.47057 2.29308 4.63631 2.3777 4.00685C2.45992 3.39537 2.61029 3.07156 2.84092 2.84092Z",
                                                fill: "#080D13"
                                            })
                                        )
                                    ),
                                    "Copy my email address"
                                )
                            ),
                            React.createElement(
                                "li",
                                null,
                                React.createElement(
                                    "a",
                                    {
                                        onClick: this.handleClick.bind(this, "settings"),
                                        "data-bs-dismiss": "offcanvas",
                                        "data-bs-target": "#offcanvasRight",
                                        "aria-label": "Close"
                                    },
                                    React.createElement(
                                        "span",
                                        { className: "__icon" },
                                        React.createElement(
                                            "svg",
                                            {
                                                width: "20",
                                                height: "20",
                                                viewBox: "0 0 20 20",
                                                fill: "none",
                                                xmlns: "http://www.w3.org/2000/svg"
                                            },
                                            React.createElement("path", {
                                                fillRule: "evenodd",
                                                clipRule: "evenodd",
                                                d: "M17.3411 6.35305L16.8224 5.45298C16.3836 4.69138 15.4112 4.42864 14.6485 4.86564V4.86564C14.2855 5.07949 13.8523 5.14017 13.4445 5.03428C13.0367 4.92839 12.6877 4.66464 12.4746 4.30118C12.3375 4.07016 12.2638 3.80704 12.261 3.53841V3.53841C12.2734 3.10773 12.1109 2.69038 11.8106 2.38143C11.5103 2.07249 11.0977 1.89826 10.6668 1.89844H9.62182C9.19971 1.89843 8.795 2.06664 8.49724 2.36583C8.19948 2.66502 8.03322 3.07053 8.03525 3.49264V3.49264C8.02274 4.36415 7.31264 5.06405 6.44104 5.06396C6.17241 5.06117 5.90929 4.98749 5.67827 4.85038V4.85038C4.91562 4.41339 3.94317 4.67612 3.50435 5.43772L2.94753 6.35305C2.50925 7.1137 2.7684 8.08555 3.52724 8.52697V8.52697C4.02049 8.81174 4.32435 9.33803 4.32435 9.90759C4.32435 10.4771 4.02049 11.0034 3.52724 11.2882V11.2882C2.76937 11.7267 2.50993 12.6961 2.94753 13.4545V13.4545L3.47384 14.3622C3.67944 14.7332 4.02441 15.007 4.4324 15.1229C4.84039 15.2389 5.27777 15.1875 5.64776 14.9801V14.9801C6.01147 14.7678 6.4449 14.7097 6.85169 14.8185C7.25848 14.9274 7.60493 15.1942 7.81404 15.5598C7.95115 15.7908 8.02483 16.0539 8.02762 16.3225V16.3225C8.02762 17.203 8.74137 17.9167 9.62182 17.9167H10.6668C11.5443 17.9168 12.2568 17.2076 12.261 16.3302V16.3302C12.259 15.9067 12.4263 15.5001 12.7257 15.2006C13.0251 14.9012 13.4318 14.7339 13.8552 14.736C14.1232 14.7431 14.3853 14.8165 14.618 14.9495V14.9495C15.3787 15.3878 16.3505 15.1287 16.7919 14.3698V14.3698L17.3411 13.4545C17.5537 13.0896 17.612 12.655 17.5032 12.247C17.3944 11.839 17.1274 11.4912 16.7614 11.2806V11.2806C16.3954 11.07 16.1284 10.7222 16.0196 10.3142C15.9108 9.90613 15.9691 9.47156 16.1817 9.10668C16.3199 8.86532 16.5201 8.66521 16.7614 8.52697V8.52697C17.5157 8.08579 17.7742 7.11962 17.3411 6.36068V6.36068V6.35305Z",
                                                stroke: "#080D13",
                                                strokeWidth: "1.25",
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round"
                                            }),
                                            React.createElement("circle", {
                                                cx: "10.1499",
                                                cy: "9.90755",
                                                r: "2.1968",
                                                stroke: "#080D13",
                                                strokeWidth: "1.25",
                                                strokeLinecap: "round",
                                                "stroke-linejoin": "round"
                                            })
                                        )
                                    ),
                                    "Settings"
                                )
                            )
                        )
                    ),
                    React.createElement("button", {
                        type: "button",
                        className: "btn-close text-reset",
                        "data-bs-dismiss": "offcanvas",
                        "aria-label": "Close"
                    })
                ),
                React.createElement(
                    "div",
                    { className: "offcanvas-body" },
                    React.createElement(
                        "a",
                        {
                            onClick: this.handleClick.bind(this, "logOut"),
                            className: "logout-btn"
                        },
                        React.createElement(
                            "span",
                            { className: "__icon" },
                            React.createElement(
                                "svg",
                                {
                                    width: "20",
                                    height: "20",
                                    viewBox: "0 0 20 20",
                                    fill: "none",
                                    xmlns: "http://www.w3.org/2000/svg"
                                },
                                React.createElement(
                                    "g",
                                    { "clip-path": "url(#clip0_70_872)" },
                                    React.createElement("path", {
                                        "fill-rule": "evenodd",
                                        "clip-rule": "evenodd",
                                        d: "M6.66667 1.04224H6.63684C5.88331 1.04223 5.27558 1.04222 4.78533 1.08665C4.28005 1.13245 3.83855 1.22936 3.4375 1.46091C2.96244 1.73518 2.56795 2.12968 2.29367 2.60474C2.06213 3.00578 1.96522 3.44728 1.91942 3.95257C1.87499 4.44281 1.87499 5.05054 1.875 5.80407L1.875 5.80407L1.875 5.8339L1.875 14.1672L1.875 14.1971L1.875 14.1971C1.87499 14.9506 1.87498 15.5583 1.91942 16.0486C1.96521 16.5539 2.06213 16.9954 2.29367 17.3964C2.56795 17.8715 2.96244 18.266 3.4375 18.5402C3.83854 18.7718 4.28004 18.8687 4.78533 18.9145C5.27557 18.9589 5.8833 18.9589 6.63684 18.9589H6.66667H6.6965C7.45003 18.9589 8.05776 18.9589 8.548 18.9145C9.05329 18.8687 9.49479 18.7718 9.89583 18.5402C10.3709 18.266 10.7654 17.8715 11.0397 17.3964C11.2712 16.9954 11.3681 16.5539 11.4139 16.0486C11.4583 15.5583 11.4583 14.9506 11.4583 14.1971V14.1971V14.1672V13.3339C11.4583 12.9887 11.1785 12.7089 10.8333 12.7089C10.4882 12.7089 10.2083 12.9887 10.2083 13.3339V14.1672C10.2083 14.9576 10.2077 15.5086 10.169 15.9357C10.1311 16.3543 10.0605 16.5923 9.95713 16.7714C9.79257 17.0564 9.55587 17.2931 9.27083 17.4577C9.09175 17.5611 8.85376 17.6316 8.43517 17.6696C8.00799 17.7083 7.45702 17.7089 6.66667 17.7089C5.87632 17.7089 5.32534 17.7083 4.89816 17.6696C4.47957 17.6316 4.24158 17.5611 4.0625 17.4577C3.77746 17.2931 3.54077 17.0564 3.3762 16.7714C3.27281 16.5923 3.20225 16.3543 3.16432 15.9357C3.1256 15.5086 3.125 14.9576 3.125 14.1672L3.125 5.8339C3.125 5.04355 3.1256 4.49258 3.16432 4.0654C3.20226 3.64681 3.27281 3.40882 3.3762 3.22974C3.54077 2.9447 3.77747 2.708 4.0625 2.54344C4.24159 2.44004 4.47957 2.36949 4.89816 2.33155C5.32535 2.29284 5.87632 2.29224 6.66667 2.29224C7.45702 2.29224 8.00799 2.29284 8.43517 2.33155C8.85376 2.36949 9.09175 2.44004 9.27083 2.54344C9.55587 2.708 9.79257 2.9447 9.95713 3.22974C10.0605 3.40882 10.1311 3.64681 10.169 4.0654C10.2077 4.49258 10.2083 5.04355 10.2083 5.8339L10.2083 6.66724C10.2083 7.01241 10.4882 7.29224 10.8333 7.29224C11.1785 7.29224 11.4583 7.01241 11.4583 6.66724L11.4583 5.8339V5.80407V5.80404C11.4583 5.05052 11.4583 4.4428 11.4139 3.95257C11.3681 3.44728 11.2712 3.00578 11.0397 2.60474C10.7654 2.12968 10.3709 1.73518 9.89583 1.46091C9.49479 1.22937 9.05329 1.13245 8.548 1.08666C8.05776 1.04222 7.45003 1.04223 6.6965 1.04224H6.66667ZM14.6086 6.22489C14.3645 5.98081 13.9688 5.98081 13.7247 6.22489C13.4806 6.46897 13.4806 6.86469 13.7247 7.10877L15.9911 9.37516L6.66667 9.37516C6.32149 9.37516 6.04167 9.65498 6.04167 10.0002C6.04167 10.3453 6.32149 10.6252 6.66667 10.6252L15.9911 10.6252L13.7247 12.8916C13.4806 13.1356 13.4806 13.5314 13.7247 13.7754C13.9688 14.0195 14.3645 14.0195 14.6086 13.7754L17.9419 10.4421C18.186 10.198 18.186 9.8023 17.9419 9.55822L14.6086 6.22489Z",
                                        fill: "none"
                                    }),
                                    React.createElement(
                                        "svg",
                                        {
                                            width: "20",
                                            height: "20",
                                            viewBox: "0 0 20 20",
                                            fill: "none",
                                            xmlns: "http://www.w3.org/2000/svg"
                                        },
                                        React.createElement("path", {
                                            d: "M14.5312 12.1833L16.6646 10.05L14.5312 7.91663",
                                            stroke: "black",
                                            strokeWidth: "1.25",
                                            strokeMiterlimit: "10",
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round"
                                        }),
                                        React.createElement("path", {
                                            d: "M8.13281 10.05H16.6078",
                                            stroke: "black",
                                            strokeWidth: "1.25",
                                            strokeMiterlimit: "10",
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round"
                                        }),
                                        React.createElement("path", {
                                            d: "M9.79948 16.6667C6.11615 16.6667 3.13281 14.1667 3.13281 10C3.13281 5.83337 6.11615 3.33337 9.79948 3.33337",
                                            stroke: "black",
                                            "stroke-width": "1.25",
                                            "stroke-miterlimit": "10",
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round"
                                        })
                                    )
                                ),
                                React.createElement(
                                    "defs",
                                    null,
                                    React.createElement(
                                        "clipPath",
                                        { id: "clip0_70_872" },
                                        React.createElement("rect", {
                                            width: "20",
                                            height: "20",
                                            fill: "white"
                                        })
                                    )
                                )
                            )
                        ),
                        "Log out"
                    )
                )
            );
        }
    });
});